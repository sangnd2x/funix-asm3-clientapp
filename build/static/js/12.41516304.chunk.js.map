{"version":3,"sources":["API/MessengerAPI.jsx","Authentication/SignUp.jsx"],"names":["MessengerAPI","getMessage","query","url","axiosClient","get","postMessage","post","postConversation","SignUp","props","useState","fullname","setFullName","email","setEmail","password","setPassword","phone","setPhone","errorEmail","setEmailError","emailRegex","setEmailRegex","errorPassword","setPasswordError","errorFullname","setFullnameError","errorPhone","setPhoneError","success","setSuccess","className","value","onChange","e","target","type","placeholder","to","onClick","preventDefault","test","String","toLowerCase","validateEmail","console","log","a","params","queryString","stringify","UserAPI","postSignUp","response","fetchSignUp","fetchConversation"],"mappings":"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","file":"static/js/12.41516304.chunk.js","sourcesContent":["import axiosClient from './axiosClient';\n\nconst MessengerAPI = {\n\tgetMessage: (query) => {\n\t\tconst url = `/messenger/${query}`;\n\t\treturn axiosClient.get(url);\n\t},\n\n\tpostMessage: (query) => {\n\t\tconst url = `/messenger/send${query}`;\n\t\treturn axiosClient.post(url);\n\t},\n\n\tpostConversation: (query) => {\n\t\tconst url = `/messenger/conversation${query}`;\n\t\treturn axiosClient.post(url);\n\t},\n};\n\nexport default MessengerAPI;\n","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport UserAPI from '../API/UserAPI';\nimport './Auth.css';\nimport queryString from 'query-string';\nimport MessengerAPI from '../API/MessengerAPI';\n\nSignUp.propTypes = {};\n\nfunction SignUp(props) {\n\tconst [fullname, setFullName] = useState('');\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [phone, setPhone] = useState('');\n\n\tconst [errorEmail, setEmailError] = useState(false);\n\tconst [emailRegex, setEmailRegex] = useState(false);\n\tconst [errorPassword, setPasswordError] = useState(false);\n\tconst [errorFullname, setFullnameError] = useState(false);\n\tconst [errorPhone, setPhoneError] = useState(false);\n\n\tconst [success, setSuccess] = useState(false);\n\n\tconst onChangeName = (e) => {\n\t\tsetFullName(e.target.value);\n\t};\n\n\tconst onChangeEmail = (e) => {\n\t\tsetEmail(e.target.value);\n\t};\n\n\tconst onChangePassword = (e) => {\n\t\tsetPassword(e.target.value);\n\t};\n\n\tconst onChangePhone = (e) => {\n\t\tsetPhone(e.target.value);\n\t};\n\n\tconst handlerSignUp = (e) => {\n\t\te.preventDefault();\n\n\t\tif (!fullname) {\n\t\t\tsetFullnameError(true);\n\t\t\tsetEmailError(false);\n\t\t\tsetPhoneError(false);\n\t\t\tsetPasswordError(false);\n\t\t\tsetEmailRegex(false);\n\t\t\treturn;\n\t\t} else {\n\t\t\tsetFullnameError(false);\n\t\t\tsetPhoneError(false);\n\t\t\tsetPasswordError(false);\n\t\t\tsetFullnameError(false);\n\t\t\tsetEmailRegex(false);\n\n\t\t\tif (!email) {\n\t\t\t\tsetFullnameError(false);\n\t\t\t\tsetEmailError(true);\n\t\t\t\tsetPhoneError(false);\n\t\t\t\tsetPasswordError(false);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tsetEmailError(false);\n\t\t\t\tsetPhoneError(false);\n\t\t\t\tsetPasswordError(false);\n\t\t\t\tsetFullnameError(false);\n\n\t\t\t\tif (!validateEmail(email)) {\n\t\t\t\t\tsetEmailRegex(true);\n\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\tsetEmailError(false);\n\t\t\t\t\tsetPhoneError(false);\n\t\t\t\t\tsetPasswordError(false);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tsetEmailRegex(false);\n\n\t\t\t\t\tif (!password) {\n\t\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\t\tsetEmailError(false);\n\t\t\t\t\t\tsetPhoneError(false);\n\t\t\t\t\t\tsetPasswordError(true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\t\tsetPhoneError(false);\n\t\t\t\t\t\tsetPasswordError(false);\n\t\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\t\tsetEmailRegex(false);\n\n\t\t\t\t\t\tif (!phone) {\n\t\t\t\t\t\t\tsetFullnameError(false);\n\t\t\t\t\t\t\tsetEmailError(false);\n\t\t\t\t\t\t\tsetPhoneError(true);\n\t\t\t\t\t\t\tsetPasswordError(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('Thanh Cong');\n\n\t\t\t\t\t\t\tconst fetchSignUp = async () => {\n\t\t\t\t\t\t\t\tconst params = {\n\t\t\t\t\t\t\t\t\tfullname: fullname,\n\t\t\t\t\t\t\t\t\temail: email,\n\t\t\t\t\t\t\t\t\tpassword: password,\n\t\t\t\t\t\t\t\t\tphone: phone,\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tconst query = '?' + queryString.stringify(params);\n\n\t\t\t\t\t\t\t\tconst response = await UserAPI.postSignUp(query);\n\t\t\t\t\t\t\t\tconsole.log(response);\n\n\t\t\t\t\t\t\t\tsetSuccess(true);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfetchSignUp();\n\n\t\t\t\t\t\t\t// Hàm này dùng để tạo các conversation cho user và admin\n\t\t\t\t\t\t\tconst fetchConversation = async () => {\n\t\t\t\t\t\t\t\tconst params = {\n\t\t\t\t\t\t\t\t\temail: email,\n\t\t\t\t\t\t\t\t\tpassword: password,\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tconst query = '?' + queryString.stringify(params);\n\n\t\t\t\t\t\t\t\tconst response = await MessengerAPI.postConversation(\n\t\t\t\t\t\t\t\t\tquery\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfetchConversation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction validateEmail(email) {\n\t\tconst re =\n\t\t\t/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\treturn re.test(String(email).toLowerCase());\n\t}\n\n\treturn (\n\t\t<div className='limiter'>\n\t\t\t<div className='container-login100'>\n\t\t\t\t<div className='wrap-login100 p-l-55 p-r-55 p-t-65 p-b-50'>\n\t\t\t\t\t<span className='login100-form-title p-b-33'>Sign Up</span>\n\t\t\t\t\t<div className='d-flex justify-content-center pb-5'>\n\t\t\t\t\t\t{errorFullname && (\n\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t* Please Check Your Full Name!\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{errorEmail && (\n\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t* Please Check Your Email!\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{emailRegex && (\n\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t* Incorrect Email Format\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{errorPassword && (\n\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t* Please Check Your Password!\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{errorPhone && (\n\t\t\t\t\t\t\t<span className='text-danger'>\n\t\t\t\t\t\t\t\t* Please Check Your Phone Number!\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='wrap-input100 validate-input'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='input100'\n\t\t\t\t\t\t\tvalue={fullname}\n\t\t\t\t\t\t\tonChange={onChangeName}\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tplaceholder='Full Name'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='wrap-input100 rs1 validate-input'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='input100'\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tonChange={onChangeEmail}\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tplaceholder='Email'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='wrap-input100 rs1 validate-input'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='input100'\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={onChangePassword}\n\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\tplaceholder='Password'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='wrap-input100 rs1 validate-input'>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName='input100'\n\t\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t\t\tonChange={onChangePhone}\n\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\tplaceholder='Phone'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='container-login100-form-btn m-t-20'>\n\t\t\t\t\t\t{success && <Redirect to={'/signin'} />}\n\t\t\t\t\t\t<button className='login100-form-btn' onClick={handlerSignUp}>\n\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='text-center p-t-45 p-b-4'>\n\t\t\t\t\t\t<span className='txt1'>Login?</span>\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t<Link to='/signin' className='txt2 hov1'>\n\t\t\t\t\t\t\tClick\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SignUp;\n"],"sourceRoot":""}