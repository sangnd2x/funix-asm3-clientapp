(this.webpackJsonpclient_shop=this.webpackJsonpclient_shop||[]).push([[6],{143:function(e,t,c){"use strict";function a(e){for(var t=e+"",c="",a=0,s=t.length-1;s>=0;s--)a++,c=t[s]+c,a%3===0&&0!==s&&(c="."+c,a=0);return c}c.d(t,"a",(function(){return a}))},145:function(e,t,c){"use strict";var a=c(18),s=(localStorage.getItem("token"),{getCarts:function(e){var t="/carts".concat(e);return a.a.get(t)},postAddToCart:function(e){return a.a.post("/add-to-cart/",JSON.stringify(e))},deleteToCart:function(e){var t="/carts/delete".concat(e);return a.a.delete(t)},putToCart:function(e){var t="/carts/update".concat(e);return a.a.put(t)}});t.a=s},229:function(e,t,c){},238:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(11),r=c.n(s),l=c(19),n=c(9),o=c(1),i=c(33),j=c.n(i),d=c(145),u=c(18),b={authorization:"Bearer "+localStorage.getItem("token")},m={postEmail:function(e){return u.a.post("/email",JSON.stringify(e),{headers:b})}},h=c(143),O=(c(229),c(60)),x=c.n(O)()("http://localhost:5000");t.default=function(e){var t=Object(o.useState)([]),c=Object(n.a)(t,2),s=c[0],i=c[1],u=Object(o.useState)(0),b=Object(n.a)(u,2),O=b[0],p=b[1],g=Object(o.useState)(""),f=Object(n.a)(g,2),N=f[0],v=f[1],S=Object(o.useState)(!1),y=Object(n.a)(S,2),C=y[0],w=y[1],k=Object(o.useState)(""),E=Object(n.a)(k,2),P=E[0],Y=E[1],F=Object(o.useState)(!1),I=Object(n.a)(F,2),_=I[0],A=I[1],H=Object(o.useState)(!1),T=Object(n.a)(H,2),z=T[0],J=T[1],B=Object(o.useState)(""),D=Object(n.a)(B,2),U=D[0],V=D[1],Z=Object(o.useState)(!1),L=Object(n.a)(Z,2),$=L[0],q=L[1],G=Object(o.useState)(""),K=Object(n.a)(G,2),M=K[0],Q=K[1],R=Object(o.useState)(!1),W=Object(n.a)(R,2),X=W[0],ee=W[1],te=Object(o.useState)(!1),ce=Object(n.a)(te,2),ae=ce[0],se=ce[1],re=Object(o.useState)(!1),le=Object(n.a)(re,2),ne=le[0],oe=le[1];function ie(e){var t=0;e.map((function(e){return t+=parseInt(e.priceProduct)*parseInt(e.count)}));p(t)}return Object(o.useEffect)((function(){localStorage.getItem("id_user")&&function(){var e=Object(l.a)(r.a.mark((function e(){var t,c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idUser:localStorage.getItem("id_user")},c="?"+j.a.stringify(t),e.next=4,d.a.getCarts(c);case 4:a=e.sent,console.log(a),i(a),ie(a),0===a.length&&window.location.replace("/cart");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(o.useEffect)((function(){if(ne){(function(){var e=Object(l.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={to:P,fullname:N,phone:U,address:M,idUser:localStorage.getItem("id_user")},e.next=3,m.postEmail(t);case 3:c=e.sent,console.log(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();var e=localStorage.getItem("id_user");x.emit("send_order",e),setTimeout((function(){se(!ae),oe(!ne)}),4e3)}}),[ne]),Object(a.jsxs)("div",{children:[ne&&Object(a.jsx)("div",{className:"wrapper_loader",children:Object(a.jsx)("div",{className:"loader"})}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("section",{className:"py-5 bg-light",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"row px-4 px-lg-5 py-lg-4 align-items-center",children:[Object(a.jsx)("div",{className:"col-lg-6",children:Object(a.jsx)("h1",{className:"h2 text-uppercase mb-0",children:"Checkout"})}),Object(a.jsx)("div",{className:"col-lg-6 text-lg-right",children:Object(a.jsx)("nav",{"aria-label":"breadcrumb",children:Object(a.jsxs)("ol",{className:"breadcrumb justify-content-lg-end mb-0 px-0",children:[Object(a.jsx)("li",{className:"breadcrumb-item",children:Object(a.jsx)("a",{href:"index.html",children:"Home"})}),Object(a.jsx)("li",{className:"breadcrumb-item",children:Object(a.jsx)("a",{href:"cart.html",children:"Cart"})}),Object(a.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Checkout"})]})})})]})})}),!ae&&Object(a.jsxs)("section",{className:"py-5",children:[Object(a.jsx)("h2",{className:"h5 text-uppercase mb-4",children:"Billing details"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-lg-8",children:Object(a.jsx)("form",{children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:"col-lg-12 form-group",children:[Object(a.jsx)("label",{className:"text-small text-uppercase",htmlFor:"Fullname",children:"Full Name:"}),Object(a.jsx)("input",{className:"form-control form-control-lg",value:N,onChange:function(e){v(e.target.value)},type:"text",placeholder:"Enter Your Full Name Here!"}),C&&Object(a.jsx)("span",{className:"text-danger",children:"* Please Check Your Full Name!"})]}),Object(a.jsxs)("div",{className:"col-lg-12 form-group",children:[Object(a.jsxs)("label",{className:"text-small text-uppercase",htmlFor:"Email",children:["Email:"," "]}),Object(a.jsx)("input",{className:"form-control form-control-lg",value:P,onChange:function(e){Y(e.target.value)},type:"text",placeholder:"Enter Your Email Here!"}),_&&Object(a.jsx)("span",{className:"text-danger",children:"* Please Check Your Email!"}),z&&Object(a.jsx)("span",{className:"text-danger",children:"* Incorrect Email Format"})]}),Object(a.jsxs)("div",{className:"col-lg-12 form-group",children:[Object(a.jsxs)("label",{className:"text-small text-uppercase",htmlFor:"Phone",children:["Phone Number:"," "]}),Object(a.jsx)("input",{className:"form-control form-control-lg",value:U,onChange:function(e){V(e.target.value)},type:"text",placeholder:"Enter Your Phone Number Here!"}),$&&Object(a.jsx)("span",{className:"text-danger",children:"* Please Check Your Phone Number!"})]}),Object(a.jsxs)("div",{className:"col-lg-12 form-group",children:[Object(a.jsxs)("label",{className:"text-small text-uppercase",htmlFor:"Address",children:["Address:"," "]}),Object(a.jsx)("input",{className:"form-control form-control-lg",value:M,onChange:function(e){Q(e.target.value)},type:"text",placeholder:"Enter Your Address Here!"}),X&&Object(a.jsx)("span",{className:"text-danger",children:"* Please Check Your Address!"})]}),Object(a.jsx)("div",{className:"col-lg-12 form-group",children:Object(a.jsx)("a",{className:"btn btn-dark",style:{color:"white"},type:"submit",onClick:function(){return N?P?(q(!1),ee(!1),w(!1),function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(P)?(J(!1),U?(w(!1),A(!1),q(!1),ee(!1),void(M?(console.log("Thanh Cong"),oe(!ne)):(w(!1),A(!1),q(!1),ee(!0)))):(w(!1),A(!1),q(!0),void ee(!1))):(J(!0),w(!1),A(!1),q(!1),void ee(!1))):(w(!1),A(!0),q(!1),void ee(!1)):(w(!0),A(!1),q(!1),void ee(!1))},children:"Place order"})})]})})}),Object(a.jsx)("div",{className:"col-lg-4",children:Object(a.jsx)("div",{className:"card border-0 rounded-0 p-lg-4 bg-light",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"text-uppercase mb-4",children:"Your order"}),Object(a.jsxs)("ul",{className:"list-unstyled mb-0",children:[s&&s.map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("li",{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsx)("strong",{className:"small font-weight-bold",children:e.nameProduct}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{className:"text-muted small",children:[Object(h.a)(e.priceProduct)," ","VND x ",e.count]})]}),Object(a.jsx)("li",{className:"border-bottom my-2"})]},e._id)})),Object(a.jsxs)("li",{className:"d-flex align-items-center justify-content-between",children:[Object(a.jsx)("strong",{className:"text-uppercase small font-weight-bold",children:"Total"}),Object(a.jsxs)("span",{children:[Object(h.a)(O)," VND"]})]})]})]})})})]})]}),ae&&Object(a.jsx)("section",{className:"py-5",children:Object(a.jsxs)("div",{className:"p-5",children:[Object(a.jsx)("h1",{children:"You Have Successfully Ordered!"}),Object(a.jsx)("p",{style:{fontSize:"1.2rem"},children:"Please Check Your Email."})]})})]})]})}}}]);
//# sourceMappingURL=6.bf7b0c12.chunk.js.map