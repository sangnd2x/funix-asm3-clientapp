(this.webpackJsonpclient_shop=this.webpackJsonpclient_shop||[]).push([[7],{143:function(e,t,c){"use strict";function s(e){for(var t=e+"",c="",s=0,a=t.length-1;a>=0;a--)s++,c=t[a]+c,s%3===0&&0!==a&&(c="."+c,s=0);return c}c.d(t,"a",(function(){return s}))},145:function(e,t,c){"use strict";var s=c(18),a=(localStorage.getItem("token"),{getCarts:function(e){var t="/carts".concat(e);return s.a.get(t)},postAddToCart:function(e){return s.a.post("/add-to-cart/",JSON.stringify(e))},deleteToCart:function(e){var t="/carts/delete".concat(e);return s.a.delete(t)},putToCart:function(e){var t="/carts/update".concat(e);return s.a.put(t)}});t.a=a},146:function(e,t,c){"use strict";var s=c(18),a={getAPI:function(){return s.a.get("/products")},getCategory:function(e){var t="/products/category".concat(e);return s.a.get(t)},getDetail:function(e){var t="/products/".concat(e);return s.a.get(t)},getPagination:function(e){var t="/products/pagination".concat(e);return s.a.get(t)}};t.a=a},235:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(11),r=c.n(a),n=c(19),i=c(9),l=c(1),o=c(146),m=c(3),d=c(5),j=c(17),u=c(152),b=c.n(u),x=c(46),h=c(145),O=c(33),p=c.n(O),f=c(18),g={getCommentProduct:function(e){var t="/comment/".concat(e);return f.a.get(t)},postCommentProduct:function(e){var t="/comment/send".concat(e);return f.a.post(t)}},N=c(143);c(170);t.default=function(e){var t=Object(l.useState)({}),c=Object(i.a)(t,2),a=c[0],u=c[1],O=Object(j.b)(),f=Object(m.g)().id,v=Object(j.c)((function(e){return e.Cart.id_user})),w=(Object(j.c)((function(e){return e.Cart.listCart})),Object(l.useState)([])),y=Object(i.a)(w,2),k=y[0],C=y[1],S=Object(l.useState)(1),_=Object(i.a)(S,2),P=(_[0],_[1],Object(l.useState)("")),I=Object(i.a)(P,2),T=(I[0],I[1],Object(j.c)((function(e){return e.Session.idUser})),Object(l.useState)([])),q=Object(i.a)(T,2),E=q[0],A=q[1],D=Object(l.useState)(!1),B=Object(i.a)(D,2),J=B[0],U=B[1];Object(l.useEffect)((function(){(function(){var e=Object(n.a)(r.a.mark((function e(){var t,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idProduct:f},c="?"+p.a.stringify(t),e.next=4,g.getCommentProduct(c);case 4:s=e.sent,console.log(s),A(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]),Object(l.useEffect)((function(){J&&(function(){var e=Object(n.a)(r.a.mark((function e(){var t,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={idProduct:f},c="?"+p.a.stringify(t),e.next=4,g.getCommentProduct(c);case 4:s=e.sent,console.log(s),A(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),U(!1))}),[J]),Object(l.useEffect)((function(){(function(){var e=Object(n.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getAPI();case 2:t=e.sent,C(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var H=Object(l.useState)(1),V=Object(i.a)(H,2),F=V[0],Q=V[1];Object(l.useEffect)((function(){(function(){var e=Object(n.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getDetail(f);case 2:t=e.sent,console.log(t),u(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[f]);var R=Object(l.useState)("description"),z=Object(i.a)(R,2),G=z[0],K=z[1];return Object(s.jsx)("section",{className:"py-5",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsxs)("div",{className:"row mb-5",children:[Object(s.jsx)("div",{className:"col-lg-6",children:Object(s.jsxs)("div",{className:"row m-sm-0",children:[Object(s.jsx)("div",{className:"col-sm-2 p-sm-0 order-2 order-sm-1 mt-2 mt-sm-0",children:Object(s.jsxs)("div",{className:"owl-thumbs d-flex flex-row flex-sm-column","data-slider-id":"1",children:[Object(s.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(s.jsx)("img",{className:"w-100",src:a.img1,alt:"..."})}),Object(s.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(s.jsx)("img",{className:"w-100",src:a.img2,alt:"..."})}),Object(s.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(s.jsx)("img",{className:"w-100",src:a.img3,alt:"..."})}),Object(s.jsx)("div",{className:"owl-thumb-item flex-fill mb-2 mr-2 mr-sm-0",children:Object(s.jsx)("img",{className:"w-100",src:a.img4,alt:"..."})})]})}),Object(s.jsxs)("div",{id:"carouselExampleControls",className:"carousel slide col-sm-10 order-1 order-sm-2","data-ride":"carousel",children:[Object(s.jsxs)("div",{className:"carousel-inner owl-carousel product-slider",children:[Object(s.jsx)("div",{className:"carousel-item active",children:Object(s.jsx)("img",{className:"d-block w-100",src:a.img1,alt:"First slide"})}),Object(s.jsx)("div",{className:"carousel-item",children:Object(s.jsx)("img",{className:"d-block w-100",src:a.img2,alt:"Second slide"})}),Object(s.jsx)("div",{className:"carousel-item",children:Object(s.jsx)("img",{className:"d-block w-100",src:a.img3,alt:"Third slide"})}),Object(s.jsx)("div",{className:"carousel-item",children:Object(s.jsx)("img",{className:"d-block w-100",src:a.img4,alt:"Third slide"})})]}),Object(s.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleControls",role:"button","data-slide":"prev",children:[Object(s.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(s.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleControls",role:"button","data-slide":"next",children:[Object(s.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(s.jsx)("span",{className:"sr-only",children:"Next"})]})]})]})}),Object(s.jsxs)("div",{className:"col-lg-6",children:[Object(s.jsx)("br",{}),Object(s.jsx)("h1",{children:a.name}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{className:"text-muted lead",children:[Object(N.a)(a.price)," VND"]}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"text-small mb-4",children:a.short_desc}),Object(s.jsx)("ul",{className:"list-unstyled small d-inline-block",children:Object(s.jsxs)("li",{className:"mb-3 bg-white text-muted",children:[Object(s.jsx)("strong",{className:"text-uppercase text-dark",children:"Category:"}),Object(s.jsxs)("a",{className:"reset-anchor ml-2",children:[a.category,"s"]})]})}),Object(s.jsxs)("div",{className:"row align-items-stretch mb-4",children:[Object(s.jsx)("div",{className:"col-sm-5 pr-sm-0",children:Object(s.jsxs)("div",{className:"border d-flex align-items-center justify-content-between py-1 px-3 bg-white border-white",children:[Object(s.jsx)("span",{className:"small text-uppercase text-gray mr-4 no-select",children:"Quantity"}),Object(s.jsxs)("div",{className:"quantity",children:[Object(s.jsx)("button",{className:"dec-btn p-0",style:{cursor:"pointer"},children:Object(s.jsx)("i",{className:"fas fa-caret-left",onClick:function(){var e=parseInt(F)-1;0!==e&&Q(e)}})}),Object(s.jsx)("input",{className:"form-control border-0 shadow-0 p-0",type:"text",value:a.quantity>=1?F:0,onChange:function(e){Q(e.target.value),console.log(a.quantity)}}),Object(s.jsx)("button",{className:"inc-btn p-0",style:{cursor:"pointer"},children:Object(s.jsx)("i",{className:"fas fa-caret-right",onClick:function(){var e=parseInt(F)+1;e<=a.quantity?Q(e):alert("H\xe0ng t\u1ed3n kho kh\xf4ng \u0111\u1ee7")}})})]})]})}),Object(s.jsx)("div",{className:"col-sm-3 pl-sm-0",children:Object(s.jsx)("a",{className:"btn btn-dark btn-sm btn-block d-flex align-items-center justify-content-center px-0 text-white",onClick:function(){var e="",t={idUser:e=localStorage.getItem("id_user")?localStorage.getItem("id_user"):v,idProduct:a._id,nameProduct:a.name,priceProduct:a.price,count:F,img:a.img1};if(localStorage.getItem("id_user")&&a.quantity>=1){console.log("B\u1ea1n \u0110\xe3 \u0110\u0103ng Nh\u1eadp!"),function(){var t=Object(n.a)(r.a.mark((function t(){var c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={idUser:e,idProduct:a._id,count:F},t.next=3,h.a.postAddToCart(c);case 3:s=t.sent,console.log(s);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}else{var c=Object(x.a)(t);O(c)}a.quantity>=1?(b.a.set("notifier","position","bottom-left"),b.a.success("B\u1ea1n \u0110\xe3 Th\xeam H\xe0ng Th\xe0nh C\xf4ng!")):(b.a.set("notifier","position","bottom-left"),b.a.error("B\u1ea1n kh\xf4ng th\u1ec3 \u0111\u1eb7t h\xe0ng v\xec kh\xf4ng c\xf3 \u0111\u1ee7 s\u1ea3n ph\u1ea9m t\u1ed3n kho!"))},children:"Add to cart"})}),a.quantity<1?Object(s.jsx)("p",{style:{color:"red"},children:"*S\u1ea3n ph\u1ea9m \u0111\xe3 h\u1ebft h\xe0ng"}):Object(s.jsx)("p",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]})]})]}),Object(s.jsx)("br",{}),Object(s.jsx)("ul",{className:"nav nav-tabs border-0",children:Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link fix_comment",onClick:function(){K("description")},style:"description"===G?{backgroundColor:"#383838",color:"#ffffff"}:{color:"#383838"},children:"Description"})})}),Object(s.jsx)("div",{className:"tab-content mb-5",children:"description"===G?Object(s.jsx)("div",{className:"tab-pane fade show active",children:Object(s.jsxs)("div",{className:"pt-4 pb-4 bg-white",children:[Object(s.jsx)("h6",{className:"text-uppercase",children:"Product description "}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"text-muted text-small mb-0",style:{whiteSpace:"pre-wrap"},children:a.long_desc})]})}):Object(s.jsx)("div",{className:"tab-pane fade show active",children:Object(s.jsx)("div",{className:"p-4 p-lg-5 bg-white",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-lg-8",children:E&&E.map((function(e){return Object(s.jsxs)("div",{className:"media mb-3",children:[Object(s.jsx)("img",{className:"rounded-circle",src:"https://img.icons8.com/color/36/000000/administrator-male.png",alt:"",width:"50"}),Object(s.jsxs)("div",{className:"media-body ml-3",children:[Object(s.jsx)("h6",{className:"mb-0 text-uppercase",children:e.fullname}),Object(s.jsx)("p",{className:"small text-muted mb-0 text-uppercase",children:"dd/mm/yyyy"}),Object(s.jsxs)("ul",{className:"list-inline mb-1 text-xs",children:[Object(s.jsx)("li",{className:"list-inline-item m-0",children:Object(s.jsx)("i",{className:e.star1})}),Object(s.jsx)("li",{className:"list-inline-item m-0",children:Object(s.jsx)("i",{className:e.star2})}),Object(s.jsx)("li",{className:"list-inline-item m-0",children:Object(s.jsx)("i",{className:e.star3})}),Object(s.jsx)("li",{className:"list-inline-item m-0",children:Object(s.jsx)("i",{className:e.star4})}),Object(s.jsx)("li",{className:"list-inline-item m-0",children:Object(s.jsx)("i",{className:e.star5})})]}),Object(s.jsx)("p",{className:"text-small mb-0 text-muted",children:e.content})]})]},e._id)}))})})})})}),Object(s.jsx)("h2",{className:"h5 text-uppercase mb-4",children:"Related products"}),Object(s.jsx)("div",{className:"row",children:k&&k.filter((function(e){return e.category===a.category&&e._id!==a._id})).map((function(e){return Object(s.jsx)("div",{className:"col-lg-3 col-sm-6",children:Object(s.jsxs)("div",{className:"product text-center skel-loader",children:[Object(s.jsxs)("div",{className:"d-block mb-3 position-relative",children:[Object(s.jsx)("img",{className:"img-fluid w-100",src:e.img1,alt:"..."}),Object(s.jsx)("div",{className:"product-overlay",children:Object(s.jsx)("ul",{className:"mb-0 list-inline"})})]}),Object(s.jsx)("h6",{children:Object(s.jsx)(d.b,{className:"reset-anchor",to:"/detail/".concat(e._id),children:e.name})}),Object(s.jsxs)("p",{className:"small text-muted",children:[Object(N.a)(e.price)," VND"]})]})},e._id)}))})]})})}}}]);
//# sourceMappingURL=7.acb1b4bf.chunk.js.map