(this.webpackJsonpclient_shop=this.webpackJsonpclient_shop||[]).push([[13],{234:function(e,s,c){"use strict";c.r(s);var t=c(0),r=c(1),a=c(3),l=c(11),n=c.n(l),i=c(19),d=c(9),j=c(5),b=c(18),o={getHistoryAPI:function(e){var s="/histories".concat(e);return b.a.get(s)},getDetail:function(e){var s="/histories/".concat(e);return b.a.get(s)}};var m=function(e){var s=Object(a.g)().id,c=Object(r.useState)([]),l=Object(d.a)(c,2),b=l[0],m=l[1],h=Object(r.useState)({}),x=Object(d.a)(h,2),O=x[0],p=x[1],u=Object(r.useState)(0),N=Object(d.a)(u,2),g=N[0],v=N[1];return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(n.a.mark((function e(){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getDetail(s);case 2:c=e.sent,m(c.products),p(c.user),v(c.totalBill);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log("cart",b),Object(t.jsxs)("div",{className:"container",children:[Object(t.jsx)("section",{className:"py-5 bg-light",children:Object(t.jsx)("div",{className:"container",children:Object(t.jsxs)("div",{className:"row px-4 px-lg-5 py-lg-4 align-items-center",children:[Object(t.jsx)("div",{className:"col-lg-6",children:Object(t.jsx)("h1",{className:"h2 text-uppercase mb-0",children:"Detail Order"})}),Object(t.jsx)("div",{className:"col-lg-6 text-lg-right",children:Object(t.jsx)("nav",{"aria-label":"breadcrumb",children:Object(t.jsx)("ol",{className:"breadcrumb justify-content-lg-end mb-0 px-0",children:Object(t.jsx)("li",{className:"breadcrumb-item active",children:"Detail"})})})})]})})}),Object(t.jsxs)("div",{className:"p-5",children:[Object(t.jsx)("h1",{className:"h2 text-uppercase",children:"Information Order"}),Object(t.jsxs)("p",{children:["ID User: ",O.userId]}),Object(t.jsxs)("p",{children:["Full Name: ",O.name]}),Object(t.jsxs)("p",{children:["Phone: ",O.phone]}),Object(t.jsxs)("p",{children:["Address: ",O.address]}),Object(t.jsxs)("p",{children:["Total: ",new Intl.NumberFormat("vn-VN",{style:"currency",currency:"VND"}).format(g)]})]}),Object(t.jsx)("div",{className:"table-responsive pt-5 pb-5",children:Object(t.jsxs)("table",{className:"table",children:[Object(t.jsx)("thead",{className:"bg-light",children:Object(t.jsxs)("tr",{className:"text-center",children:[Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"ID Product"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Image"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Name"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Price"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Count"})]})]})}),Object(t.jsx)("tbody",{children:b&&b.map((function(e){return Object(t.jsxs)("tr",{className:"text-center",children:[Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("h6",{className:"mb-0",children:e.product.idProduct})}),Object(t.jsx)("td",{className:"pl-0 border-0",children:Object(t.jsx)("div",{className:"media align-items-center justify-content-center",children:Object(t.jsx)(j.b,{className:"reset-anchor d-block animsition-link",to:"/detail/".concat(e.product.idProduct),children:Object(t.jsx)("img",{src:e.product.imgProduct,alt:"...",width:"100"})})})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("h6",{className:"mb-0",children:e.product.nameProduct})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("h6",{className:"mb-0",children:new Intl.NumberFormat("vn-VN",{style:"currency",currency:"VND"}).format(e.product.priceProduct)})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("h6",{className:"mb-0",children:e.product.count})})]},e.product.idProduct)}))})]})})]})},h=c(33),x=c.n(h);var O=function(e){var s=Object(r.useState)([]),c=Object(d.a)(s,2),a=c[0],l=c[1];return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(n.a.mark((function e(){var s,c,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={idUser:localStorage.getItem("id_user")},c="?"+x.a.stringify(s),e.next=4,o.getHistoryAPI(c);case 4:t=e.sent,console.log(t),l(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(t.jsxs)("div",{className:"container",children:[Object(t.jsx)("section",{className:"py-5 bg-light",children:Object(t.jsx)("div",{className:"container",children:Object(t.jsxs)("div",{className:"row px-4 px-lg-5 py-lg-4 align-items-center",children:[Object(t.jsx)("div",{className:"col-lg-6",children:Object(t.jsx)("h1",{className:"h2 text-uppercase mb-0",children:"History"})}),Object(t.jsx)("div",{className:"col-lg-6 text-lg-right",children:Object(t.jsx)("nav",{"aria-label":"breadcrumb",children:Object(t.jsx)("ol",{className:"breadcrumb justify-content-lg-end mb-0 px-0",children:Object(t.jsx)("li",{className:"breadcrumb-item active",children:"History"})})})})]})})}),Object(t.jsx)("div",{className:"table-responsive pt-5 pb-5",children:Object(t.jsxs)("table",{className:"table",children:[Object(t.jsx)("thead",{className:"bg-light",children:Object(t.jsxs)("tr",{className:"text-center",children:[Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"ID Order"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"ID User"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Name"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Phone"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Address"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Total"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Delivery"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Status"})]}),Object(t.jsxs)("th",{className:"border-0",scope:"col",children:[" ",Object(t.jsx)("strong",{className:"text-small text-uppercase",children:"Detail"})]})]})}),Object(t.jsx)("tbody",{children:a&&a.map((function(e){return Object(t.jsxs)("tr",{className:"text-center",children:[Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:e._id})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:e.user.userId})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:e.user.name})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:e.user.phone})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:e.user.address})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:new Intl.NumberFormat("vn-VN",{style:"currency",currency:"VND"}).format(e.totalBill)})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:e.orderDelivery?"Waiting for processing":"Processed"})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsx)("p",{className:"mb-0 small",children:e.orderStatus?"Waiting for pay":"Paid"})}),Object(t.jsx)("td",{className:"align-middle border-0",children:Object(t.jsxs)(j.b,{className:"btn btn-outline-dark btn-sm",to:"/history/".concat(e._id),children:["View",Object(t.jsx)("i",{className:"fas fa-long-arrow-alt-right ml-2"})]})})]},e._id)}))})]})})]})};s.default=function(e){return Object(t.jsxs)(a.d,{children:[Object(t.jsx)(a.b,{exact:!0,path:"/history",component:O}),Object(t.jsx)(a.b,{path:"/history/:id",component:m})]})}}}]);
//# sourceMappingURL=13.6dbd8a80.chunk.js.map